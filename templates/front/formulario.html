<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{url_for('templates', filename = 'Estilizações/formulario.css')}}">
    <title>Document</title>
</head>
<body>
    <form action="/form" method="post">


<h1> Classificação de fungos</h1>


<div class="pergunta">
<label for="pergunta1">Escurece ao toque ou quado danificado (Bruises)?</label>
<div class="resposta"> <input type="radio" name="pergunta1" id="pergunta1" value="t" required> Sim/Yes</div>
<div class="resposta"> <input type="radio" name="pergunta1" id="pergunta1" value="f" > Não/No </div>
</div>


<div class="pergunta">
<label for="pergunta2">Odor?</label>
<div class="resposta"> <input type="radio" name="pergunta2" id="pergunta2" value="p" required> Cheiro Forte /Pungent </div>
<div class="resposta"> <input type="radio" name="pergunta2" id="pergunta2" value="a"> Amêndoas/Almond</div>
<div class="resposta"> <input type="radio" name="pergunta2" id="pergunta2" value="l"> Anis/Anise</div>
<div class="resposta"> <input type="radio" name="pergunta2" id="pergunta2" value="n"> Nenhum/None </div>
<div class="resposta"> <input type="radio" name="pergunta2" id="pergunta2" value="f"> Fétido/Foul</div>
<div class="resposta"> <input type="radio" name="pergunta2" id="pergunta2" value="c"> Creosoto/Creosote</div>
<div class="resposta"> <input type="radio" name="pergunta2" id="pergunta2" value="y"> Peixe/Fishy</div>
<div class="resposta"> <input type="radio" name="pergunta2" id="pergunta2" value="s"> Apimentado/Spicy</div>
<div class="resposta"> <input type="radio" name="pergunta2" id="pergunta2" value="m"> Mofo/Musty</div>
</div>



<div class="pergunta">
<label for="pergunta3">Qual o tamanho das lâminas (gill-size)?</label>
<div class="resposta"> <input type="radio" name="pergunta3" id="pergunta3" value="n" required> Estreitas/Narrow  </div>
<div class="resposta"> <input type="radio" name="pergunta3" id="pergunta3" value="b">Largas/Broad </div>
</div>

<div class="pergunta">
<label for="pergunta4">Qual a cor das lâminas (gill-color)?</label>
<div class="resposta"> <input type="radio" name="pergunta4" id="pergunta4" value="k" required> Preta/Black </div>
<div class="resposta"> <input type="radio" name="pergunta4" id="pergunta4" value="n"> Marrom/Brown</div>
<div class="resposta"> <input type="radio" name="pergunta4" id="pergunta4" value="g"> Cinza/Gray </div>
<div class="resposta"> <input type="radio" name="pergunta4" id="pergunta4" value="p"> Rosa/Pink</div>
<div class="resposta"> <input type="radio" name="pergunta4" id="pergunta4" value="w"> Branca/White </div>
<div class="resposta"> <input type="radio" name="pergunta4" id="pergunta4" value="h"> Chocolate</div>
<div class="resposta"> <input type="radio" name="pergunta4" id="pergunta4" value="u"> Roxa/Purple </div>
<div class="resposta"> <input type="radio" name="pergunta4" id="pergunta4" value="e"> Vermelha/Red </div>
<div class="resposta"> <input type="radio" name="pergunta4" id="pergunta4" value="b"> Bege/Buff</div>
<div class="resposta"> <input type="radio" name="pergunta4" id="pergunta4" value="r">Verde/Green </div>
</div>

<div class="pergunta">
<label for="pergunta5">Qual o formato do caule (stalk-shape):</label>
<div class="resposta"> <input type="radio" name="pergunta5" id="pergunta5" value="e" required> Alargado na base/Enlarging </div>
<div class="resposta"> <input type="radio" name="pergunta5" id="pergunta5" value="t"> Afunilando//Tapering</div>
</div>

<div class="pergunta">
<label for="pergunta6">Como é a raiz do caule (stalk-root):</label>
<div class="resposta"> <input type="radio" name="pergunta6" id="pergunta6" value="e" required> Uniforme/Equal </div>
<div class="resposta"> <input type="radio" name="pergunta6" id="pergunta6" value="c">Em forma de clava/Club </div>
<div class="resposta"> <input type="radio" name="pergunta6" id="pergunta6" value="b"> Bulbosa/Bulbous </div>
<div class="resposta"> <input type="radio" name="pergunta6" id="pergunta6" value="r"> Enraizada/Rooted </div>
</div>

<div class="pergunta">
<label for="pergunta7">Cor do caule acima do anel (stalk-color-above-ring)?</label>
<div class="resposta"> <input type="radio" name="pergunta7" id="pergunta7" value="w" required> Branco/White </div>
<div class="resposta"> <input type="radio" name="pergunta7" id="pergunta7" value="g"> Cinza/Gray </div>
<div class="resposta"> <input type="radio" name="pergunta7" id="pergunta7" value="p"> Rosa/Pink </div>
<div class="resposta"> <input type="radio" name="pergunta7" id="pergunta7" value="n"> Marrom/Brown </div>
<div class="resposta"> <input type="radio" name="pergunta7" id="pergunta7" value="b"> Bege/Buff </div>
<div class="resposta"> <input type="radio" name="pergunta7" id="pergunta7" value="e"> Vermelho/Red </div>
<div class="resposta"> <input type="radio" name="pergunta7" id="pergunta7" value="o"> Laranja/Orange </div>
<div class="resposta"> <input type="radio" name="pergunta7" id="pergunta7" value="c"> Canela/Cinnamon </div>
<div class="resposta"> <input type="radio" name="pergunta7" id="pergunta7" value="y"> Amarelo/Yellow </div>
</div>

<div class="pergunta">
<label for="pergunta8">Cor do esporo (spore-print-color)?</label>
<div class="resposta"> <input type="radio" name="pergunta8" id="pergunta8" value="k" required> Preto/Black </div>
<div class="resposta"> <input type="radio" name="pergunta8" id="pergunta8" value="n"> Marrom/Brown </div>
<div class="resposta"> <input type="radio" name="pergunta8" id="pergunta8" value="u"> Roxo/Purple </div>
<div class="resposta"> <input type="radio" name="pergunta8" id="pergunta8" value="h"> Chocolate </div>
<div class="resposta"> <input type="radio" name="pergunta8" id="pergunta8" value="w"> Branco/White  </div>
<div class="resposta"> <input type="radio" name="pergunta8" id="pergunta8" value="r"> Verde/Green </div>
<div class="resposta"> <input type="radio" name="pergunta8" id="pergunta8" value="o"> Laranja/Oranje </div>
<div class="resposta"> <input type="radio" name="pergunta8" id="pergunta8" value="y"> Amarelo/Yellow </div>
<div class="resposta"> <input type="radio" name="pergunta8" id="pergunta8" value="b"> Bege/Buff </div>
</div>

<div class="pergunta">
<label for="pergunta9">Como é a população (population)?</label>
<div class="resposta"> <input type="radio" name="pergunta9" id="pergunta9" value="s" required> Dispersa/Scattered </div>
<div class="resposta"> <input type="radio" name="pergunta9" id="pergunta9" value="n"> Numerosa/Numerous </div>
<div class="resposta"> <input type="radio" name="pergunta9" id="pergunta9" value="a"> Abundante/Abundant </div>
<div class="resposta"> <input type="radio" name="pergunta9" id="pergunta9" value="v"> Várias/Several </div>
<div class="resposta"> <input type="radio" name="pergunta9" id="pergunta9" value="y"> Solitária/Solitary  </div>
<div class="resposta"> <input type="radio" name="pergunta9" id="pergunta9" value="c"> Agrupada/Clustered</div>
</div>

<div class="pergunta">
<label for="pergunta10">Qual é o habitat (habitat)?</label>
<div class="resposta"> <input type="radio" name="pergunta10" id="pergunta10" value="u" required> Urbano/Urban </div>
<div class="resposta"> <input type="radio" name="pergunta10" id="pergunta10" value="g"> gramados/Grasses </div>
<div class="resposta"> <input type="radio" name="pergunta10" id="pergunta10" value="m"> Prados/Meadows </div>
<div class="resposta"> <input type="radio" name="pergunta10" id="pergunta10" value="d"> Florestas/Woods </div>
<div class="resposta"> <input type="radio" name="pergunta10" id="pergunta10" value="p"> Trilhas/Paths</div>
<div class="resposta"> <input type="radio" name="pergunta10" id="pergunta10" value="w"> Terrenos baldios/Waste</div>
<div class="resposta"> <input type="radio" name="pergunta10" id="pergunta10" value="l"> Folhas/Leaves </div>
</div>

<button type="submit" class="botao">Enviar para Análise</button>
    </form>
    
    <!-- Pop-up -->
  <div id="popup">
    <h3 id="popupMsg"></h3>
    <button onclick="fecharPopup()">Fechar</button>
  </div>

  <script>
    const form = document.getElementById('formIA');
    const popup = document.getElementById('popup');
    const popupMsg = document.getElementById('popupMsg');

    form.addEventListener('submit', async (e) => {
      e.preventDefault(); // evita recarregar

      // pega os 10 valores
      const valores = [];
      for (let i = 1; i <= 10; i++) {
        valores.push(parseFloat(form[`dado${i}`].value));
      }

      // envia pro Flask
      const resposta = await fetch('/api/processar', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ valores })
      });

      const data = await resposta.json();

      // interpreta o resultado
      let mensagem = '';
      if (data.resultado === 'P') {
        mensagem = ' O cogumelo é VENENOSO (Poisonous)!';
        popup.style.borderColor = 'red';
      } else if (data.resultado === 'E') {
        mensagem = ' O cogumelo é COMESTÍVEL (Edible)!';
        popup.style.borderColor = 'green';
      } else {
        mensagem = ` Resultado inesperado: ${data.resultado}`;
      }

      popupMsg.innerText = mensagem;
      popup.style.display = 'block';
    });

    function fecharPopup() {
      popup.style.display = 'none';
    }
  </script>
</body>
</html>